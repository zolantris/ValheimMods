<Project>
    <Import Project="$(SolutionDir)build\.props" Condition="Exists('$(SolutionDir)build\.props')"/>
    <Import Project="$(SolutionDir)build\build_variables.props" Condition="Exists('$(SolutionDir)build\build_variables.props')"/>
    
    <!--  Either it's Debug or Release for output bucket standardization  -->
    <PropertyGroup Label="Normalized Configuration">
        <NormalizedConfiguration Condition="'$(IsRelease)' == 'true'">Release</NormalizedConfiguration>
        <NormalizedConfiguration Condition="'$(IsRelease)' != 'true'">Debug</NormalizedConfiguration>
    </PropertyGroup>

    <PropertyGroup Label="Overrides for MSBuild">
        <BaseOutputPath>$(SolutionDir)Build\bin\</BaseOutputPath>
        <BaseIntermediateOutputPath>$(SolutionDir)Build\obj\</BaseIntermediateOutputPath>
        <!-- Use normalized configuration buckets for outputs -->
        <OutputPath>$(BaseOutputPath)$(MSBuildProjectName)\$(NormalizedConfiguration)\</OutputPath>
        <IntermediateOutputPath>$(BaseIntermediateOutputPath)$(MSBuildProjectName)\$(NormalizedConfiguration)\</IntermediateOutputPath>
    </PropertyGroup>

    <!-- Default   -->
    <PropertyGroup>
        <!--   Unity6 requires netstandard 2.1     -->
        <TargetFramework>netstandard2.1</TargetFramework>
        <Platforms>AnyCPU</Platforms>
        <PlatformTarget>AnyCPU</PlatformTarget>
        <LangVersion>12</LangVersion>
        <Nullable>enable</Nullable>
        <Configurations>Debug;Release</Configurations>
        <GenerateAssemblyInfo>false</GenerateAssemblyInfo>
        <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
    </PropertyGroup>

    <PropertyGroup Condition="'$(IsDebug)' == 'true'">
        <DebugSymbols>true</DebugSymbols>
        <DebugType>full</DebugType>
        <Optimize>false</Optimize>
        <DefineConstants>DEBUG;TRACE;</DefineConstants>
        <ErrorReport>prompt</ErrorReport>
        <WarningLevel>4</WarningLevel>
        <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    </PropertyGroup>
    <PropertyGroup Condition="'$(IsRelease)' == 'true'">
        <DebugType>pdbonly</DebugType>
        <Optimize>true</Optimize>
        <DefineConstants>TRACE;VALHEIM</DefineConstants>
        <ErrorReport>prompt</ErrorReport>
        <WarningLevel>4</WarningLevel>
        <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    </PropertyGroup>

    <PropertyGroup Label="Code Preferences">
        <Nullable>enable</Nullable>
    </PropertyGroup>
    <PropertyGroup Condition="'$(IsRelease)' == 'true' or '$(Configuration)' == 'ReleaseBETA Archive' or '$(Configuration)' == 'Release'">
        <PlatformTarget>AnyCPU</PlatformTarget>
        <DebugType>pdbonly</DebugType>
        <Optimize>true</Optimize>
        <DefineConstants>TRACE</DefineConstants>
        <ErrorReport>prompt</ErrorReport>
        <WarningLevel>4</WarningLevel>
        <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    </PropertyGroup>
</Project>